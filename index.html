<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <title>Frame Peview plugin</title>
        <link type="text/css" rel="stylesheet" href="https://amp.azure.net/libs/amp/2.3.0/skins/amp-flush/azuremediaplayer.min.css" />
        <script type="text/javascript" src="https://amp.azure.net/libs/amp/2.3.0/azuremediaplayer.min.js"></script>
        <script type="text/javascript" src="amp-framePreview.plugin.ts"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    </head>
    <body>
        <video id="mediaPlayer" width="640" height="360" class="azuremediaplayer amp-flush-skin" controls autoplay />
    </body>
    <script type="text/javascript">
            
        (function(){
         // Register Plugin on AMP
         window.amp.plugin('framePreview', framePreviewPlugin);
        
         // Create keyframes array
         const keyframes = [
                {startSeconds: 0, endSeconds: 3, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 0, yPosition: 0},
                {startSeconds: 3, endSeconds: 12, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 160, yPosition: 0},
                {startSeconds: 12, endSeconds: 15, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 320, yPosition: 0},
                {startSeconds: 15, endSeconds: 15, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 480, yPosition: 0},
                {startSeconds: 15, endSeconds: 16, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 640, yPosition: 0},
                {startSeconds: 16, endSeconds: 16, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 800, yPosition: 0},
                {startSeconds: 16, endSeconds: 18, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 960, yPosition: 0},
                {startSeconds: 18, endSeconds: 19, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 1120, yPosition: 0},
                {startSeconds: 19, endSeconds: 20, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 1280, yPosition: 0},
                {startSeconds: 20, endSeconds: 22, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 1440, yPosition: 0},
                {startSeconds: 22, endSeconds: 22, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 1600, yPosition: 0},
                {startSeconds: 22, endSeconds: 24, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 1760, yPosition: 0},
                {startSeconds: 24, endSeconds: 29, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 1920, yPosition: 0},
                {startSeconds: 29, endSeconds: 30, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 2080, yPosition: 0},
                {startSeconds: 30, endSeconds: 34, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 2240, yPosition: 0},
                {startSeconds: 34, endSeconds: 39, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 2400, yPosition: 0},
                {startSeconds: 39, endSeconds: 83, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 2560, yPosition: 0},
                {startSeconds: 83, endSeconds: 84, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 2720, yPosition: 0},
                {startSeconds: 84, endSeconds: 85, url: "https://www.videoindexer.ai/api/v2/accounts/238816fc-14ed-4b5d-ad77-420300ed184c/videos/bb66571ef9/thumbnails/KeyframesSprite/0", xPosition: 2880, yPosition: 0}
                ];
          
          var mediaPlayer = amp("mediaPlayer", {
                            plugins: {
                                framePreview: {
                                    keyframes: keyframes,
                                    width: 160,
                                    height: 90,
                                    top: -97
                                }
                            }
                        });
                        mediaPlayer.src(
                            [{
                                src: "https://rodmandev.streaming.mediaservices.windows.net/0e1a5e64-3552-46e1-a775-74ef187ecb1d/Video_Indexer_FinalCut.ism/manifest"
                            }]
                        );
        }())
                </script>
</html>